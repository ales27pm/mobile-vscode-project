{
  "name": "mobile-vscode-server",
  "displayName": "Mobile VSCode Server",
  "publisher": "codex",
  "version": "0.1.0",
  "description": "Provides GraphQL, Git and Y.js back-end for the Mobile VSCode app.",
  "repository": {
    "type": "git",
    "url": "https://github.com/ales27pm/mobile-vscode-project.git",
    "directory": "apps/backend"
  },
  "main": "./dist/extension.js",
  "scripts": {
    "prepublish": "yarn build",
    "build": "tsc -p .",
    "bundle": "webpack --config webpack.config.js",
    "watch": "tsc -p . -w",
    "test": "./scripts/test.sh"
  },
  "engines": {
    "vscode": "^1.80.0"
  },
  "activationEvents": [
    "onStartupFinished",
    "onView:mobileVscode.statusView",
    "onCommand:mobile-vscode-server.start",
    "onCommand:mobile-vscode-server.stop",
    "onCommand:mobile-vscode-server.restart",
    "onCommand:mobile-vscode-server.openStatus",
    "onCommand:mobile-vscode-server.openSettings",
    "onCommand:mobile-vscode-server.copyUrl",
    "onCommand:mobile-vscode-server.copyPairingToken",
    "onCommand:mobile-vscode-server.openLogs"
  ],
  "contributes": {
    "commands": [
      { "command": "mobile-vscode-server.start", "title": "MobileVSCode: Start Server" },
      { "command": "mobile-vscode-server.stop", "title": "MobileVSCode: Stop Server" },
      { "command": "mobile-vscode-server.restart", "title": "MobileVSCode: Restart Server" },
      { "command": "mobile-vscode-server.openStatus", "title": "MobileVSCode: Open Status" },
      { "command": "mobile-vscode-server.openSettings", "title": "MobileVSCode: Open Settings" },
      { "command": "mobile-vscode-server.copyUrl", "title": "MobileVSCode: Copy Server URL" },
      { "command": "mobile-vscode-server.copyPairingToken", "title": "MobileVSCode: Copy Pairing Token" },
      { "command": "mobile-vscode-server.openLogs", "title": "MobileVSCode: Open Logs" }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "mobileVscode",
          "title": "MobileVSCode",
          "icon": "resources/mobilevscode.svg"
        }
      ]
    },
    "views": {
      "mobileVscode": [
        {
          "id": "mobileVscode.statusView",
          "name": "Status"
        }
      ]
    },
    "configuration": {
      "title": "MobileVSCode Server",
      "properties": {
        "mobile-vscode-server.autoStart": {
          "type": "boolean",
          "default": true,
          "description": "Start the backend server automatically when VS Code starts."
        },
        "mobile-vscode-server.host": {
          "type": "string",
          "default": "0.0.0.0",
          "description": "Network interface to bind. Use 0.0.0.0 for LAN access."
        },
        "mobile-vscode-server.port": {
          "type": "number",
          "default": 4000,
          "minimum": 1024,
          "maximum": 65535,
          "description": "Port the backend server listens on."
        },
        "mobile-vscode-server.useHttps": {
          "type": "boolean",
          "default": false,
          "description": "Enable HTTPS. Requires certs/server.key and certs/server.crt in the extension folder."
        },
        "mobile-vscode-server.logLevel": {
          "type": "string",
          "enum": ["error", "warn", "info", "debug"],
          "default": "info",
          "description": "Logging verbosity for the backend."
        },
        "mobile-vscode-server.jwtSecret": {
          "type": "string",
          "default": "",
          "description": "Persistent secret used to sign pairing/session tokens. Generated automatically when missing.",
          "scope": "application"
        }
      }
    }
  },
  "dependencies": {
    "@apollo/client": "^3.5.10",
    "@graphql-tools/schema": "^8.3.0",
    "apollo-server-express": "^3.13.0",
    "cors": "^2.8.5",
    "express": "^4.22.1",
    "graphql": "^16.6.0",
    "graphql-subscriptions": "^2.0.0",
    "graphql-ws": "^6.0.6",
    "lodash.debounce": "^4.0.8",
    "lru-cache": "^10.2.2",
    "simple-git": "^3.30.0",
    "ws": "^8.13.0",
    "y-websocket": "1.5.3",
    "yjs": "^13.6.1"
  },
  "devDependencies": {
    "@types/cors": "^2.8.19",
    "@types/jest": "^29.5.14",
    "@types/node": "^16.18.126",
    "@types/vscode": "1.80.0",
    "@types/ws": "^8.18.1",
    "jest": "^29.7.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.4",
    "typescript": "^4.9.5",
    "webpack": "^5.76.0",
    "webpack-cli": "^4.9.2"
  }
}
